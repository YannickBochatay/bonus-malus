{% extends "base.html" %}

{% block content %}
<h2>{{ user }}</h2>
<div role="group" id="tabs">
  <button data-for="actions" class="secondary outline">
    Actions
  </button>
  <button data-for="depenses" class="secondary outline">
    Dépenses
  </button>
</div>
<div data-id="actions">
  <table>
    <thead>
      <tr>
        <th scope="col">Action</th>
        <th scope="col">Date</th>
        <th scope="col">Valeur</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for line in actions %}
      <tr>
        <td>{{ line.action }}</td>
        <td>{{ line.date }}</td>
        <td>{{ line.valeur }}</td>
        <td>
          <form action="/{{ user }}/actions/delete/{{ line.id }}" method="POST">
            <input type="submit" value="✗" class="outline secondary icon-button">
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div data-id="depenses">
  <h4>Ajouter une dépense</h4>
  <form action="/{{user}}/depenses/add" method="POST" id="form_expense">
    <input
      type="text"
      name="descript"
      placeholder="Objet de la dépense"
      aria-label="Objet de la dépense"
    >
    <fieldset role="group">
      <input
        type="number"
        name="cost"
        placeholder="Coût en euros"
        min="0"
        step="0.01"
        aria-label="coût en euros"
      >
      <input type="submit" value="Valider">
    </fieldset>
  </form>
  <table>
    <thead>
      <tr>
        <th scope="col">Objet</th>
        <th scope="col">Date</th>
        <th scope="col">Valeur</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for line in depenses %}
      <tr>
        <td>{{ line.descript }}</td>
        <td>{{ line.date }}</td>
        <td>{{ line.cout }}</td>
        <td>
          <form action="/{{ user }}/depenses/delete/{{ line.id }}" method="POST">
            <input type="submit" value="✗" class="outline secondary icon-button">
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script type="module" src="{{ url_for("static", filename="tabs.js")}}"></script>
{% endblock %}
